(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,t,n){e.exports=n(96)},59:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),l=(n(56),n(57),n(58),n(59),n(3)),i=n(13),s=n(18),u=n(2),m=Object(a.createContext)(),d=function(){return Object(a.useContext)(m)},p=n(4),f=n.n(p),g=n(10),h=n(49),y=n.n(h).a.create({baseURL:"https://freely--server.herokuapp.com/API/",withCredentials:!0,timeout:4e3});function E(){return(E=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.post("/auth/register",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.log("Error registering user:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(){return(v=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.post("auth/login",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.log("Login Error: ",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(){return(b=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",y.get("/auth/logout"));case 4:throw e.prev=4,e.t0=e.catch(0),console.log("Logout Error:",e.t0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function w(){return(w=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("/auth/user");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),console.log("Error checking for authenticated user"),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(){return localStorage.getItem("loggedInUser")}function O(e){e?localStorage.setItem("loggedInUser",e):localStorage.removeItem("loggedInUser")}var j=function(e){var t=e.showLogin,n=e.setShowLogin,c=e.setActivities,o=e.setStudents,i=d().dispatch,m=Object(a.useState)(""),p=Object(l.a)(m,2),f=p[0],g=p[1],h=Object(s.f)(),y=function(){g(""),n(!1)};return r.a.createElement(u.p,{toggle:y,isOpen:t},r.a.createElement(u.s,{toggle:y},"Login"),r.a.createElement(u.q,null,f&&r.a.createElement(u.b,{color:"danger"},f),r.a.createElement("form",{id:"form",onSubmit:function(e){e.preventDefault();var t=e.target;(function(e){return v.apply(this,arguments)})({username:t.username.value,password:t.password.value}).then((function(e){c(e.activities),o(e.students),i({type:"setLoggedInUser",data:e.username}),O(e.username),y(),h.push("/activities")})).catch((function(e){console.log("An error occurred authenticating: ".concat(e," with status:")),g("There was an error logging in. Please check your credentials and try again.")}))}},r.a.createElement(u.m,{icon:"user",size:"sm",name:"username",label:"username",required:!0,"data-cy":"username"}),r.a.createElement(u.m,{icon:"lock",size:"sm",name:"password",type:"password",label:"password",required:!0,"data-cy":"password"}))),r.a.createElement(u.r,null,r.a.createElement(u.e,{color:"secondary",onClick:y},"Cancel"),r.a.createElement(u.e,{form:"form",type:"submit",color:"primary","data-cy":"login-button"},"Login")))},k=function(e){var t=e.showRegister,n=e.setShowRegister,c=Object(s.f)(),o=Object(a.useState)(""),i=Object(l.a)(o,2),m=i[0],d=i[1],p=function(){d(""),n(!1)};return r.a.createElement(u.p,{toggle:p,isOpen:t},r.a.createElement(u.s,{toggle:p},"Register"),r.a.createElement(u.q,null,m&&r.a.createElement(u.b,{color:"danger"},m),r.a.createElement("form",{id:"form",onSubmit:function(e){e.preventDefault();var t=e.target;if(t.password.value!==t.confirm.value)return d("Passwords do not match.");(function(e){return E.apply(this,arguments)})({username:t.username.value,password:t.password.value}).then((function(e){console.log(e),p(),c.push("/")})).catch((function(e){console.log("An error occurred during registration:",e),d("There was an error registering your account. Please check required fields and try again.")}))}},r.a.createElement(u.m,{icon:"user",size:"sm",name:"username",label:"username",required:!0,"data-cy":"username"}),r.a.createElement(u.m,{icon:"lock",size:"sm",name:"password",type:"password",label:"password",required:!0,"data-cy":"password1"}),r.a.createElement(u.m,{icon:"lock",size:"sm",name:"confirm",type:"password",label:"confirm password",required:!0,"data-cy":"password2"}))),r.a.createElement(u.r,null,r.a.createElement(u.e,{color:"secondary",onClick:p},"Cancel"),r.a.createElement(u.e,{id:"submit-btn",form:"form",type:"submit",color:"primary","data-cy":"register-button"},"Register")))},S=function(e){var t=e.showLogout,n=e.setShowLogout,a=d().dispatch,c=function(){n(!1)};function o(){!function(){b.apply(this,arguments)}(),a({type:"setLoggedInUser",data:null}),O(null)}return r.a.createElement(u.p,{toggle:c,isOpen:t},r.a.createElement(u.s,{toggle:c},"Logout"),r.a.createElement(u.q,null,"Are you sure you want to end your session?"),r.a.createElement(u.r,null,r.a.createElement(u.e,{color:"secondary",onClick:c},"Cancel"),r.a.createElement(u.e,{color:"primary",onClick:function(){c(),o()},"data-cy":"logout-button"},"Logout")))},C=function(e){var t=e.setActivities,n=e.setStudents,c=Object(s.f)(),o=Object(a.useState)(!1),i=Object(l.a)(o,2),m=i[0],p=i[1],f=Object(a.useState)(!1),g=Object(l.a)(f,2),h=g[0],y=g[1],E=Object(a.useState)(!1),v=Object(l.a)(E,2),b=v[0],w=v[1],x=Object(a.useState)(!1),O=Object(l.a)(x,2),C=O[0],D=O[1],A=d().store.loggedInUser,I=function(){switch(c.location.pathname){case"/activities":return"Activities";case"/students":return"Student Setup";case"/landing":return"Landing";default:return""}};return r.a.createElement(u.v,{style:{backgroundColor:"#612F41"},light:!0,expand:"md"},r.a.createElement(u.w,{style:{color:"white"},center:"true"},A?I():"Freely"),r.a.createElement(u.y,{onClick:function(){return p(!m)}}),r.a.createElement(u.i,{isOpen:m,navbar:!0},A?r.a.createElement(a.Fragment,null,r.a.createElement(u.x,{left:!0},"Activities"!==I()&&r.a.createElement(u.t,null,r.a.createElement(u.u,{style:{color:"white"},to:"/activities",onClick:function(){p(!1)},"data-cy":"header-activities"}," Activities")),"Student Setup"!==I()&&r.a.createElement(u.t,null,r.a.createElement(u.u,{style:{color:"white"},to:"/students",onClick:function(){p(!1)},"data-cy":"header-students"},"Student Setup"))),r.a.createElement(u.x,{right:!0},r.a.createElement(u.t,null,r.a.createElement(u.u,{style:{color:"white"},to:"#",onClick:function(){p(!1),w(!0)},"data-cy":"logout"},"Log out")))):r.a.createElement(a.Fragment,null,r.a.createElement(u.x,{right:!0},r.a.createElement(u.t,null,r.a.createElement(u.u,{style:{color:"white"},to:"#",onClick:function(){p(!1),y(!0)},"data-cy":"login"},"Log in")),r.a.createElement(u.t,null,r.a.createElement(u.u,{style:{color:"white"},to:"#",onClick:function(){p(!1),D(!0)},"data-cy":"register"},"Register"))))),r.a.createElement(j,{showLogin:h,setShowLogin:y,setActivities:t,setStudents:n}),r.a.createElement(k,{showRegister:C,setShowRegister:D}),r.a.createElement(S,{showLogout:b,setShowLogout:w}))},D=n(21),A=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("activities/getActivitiesByUser");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.post("activities/createActivity",t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.delete("activities/deleteActivity",{data:t});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=e.data,n=e.activities,c=e.setActivities,o=e.students,i=Object(a.useState)(!1),s=Object(l.a)(i,2),m=s[0],d=s[1];return r.a.createElement(u.f,{className:"cy-activity"},r.a.createElement(u.g,{style:{display:"flex"}},r.a.createElement("div",{style:{width:"70%"}},t.name&&r.a.createElement(u.h,null,t.name),r.a.createElement(u.h,null,t.textContent),t.date&&function(){var e=new Date(t.date);return r.a.createElement(u.h,null,"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear()))}(),t.assets.length>0?r.a.createElement("div",{onClick:function(){d(!m)},style:{display:"flex",alignItems:"center"}},r.a.createElement(u.k,{size:"sm",icon:m?"angle-down":"angle-right"}),r.a.createElement(u.h,{style:{marginLeft:"10px"}},"Assets (",t.assets.length,")")):r.a.createElement("p",{style:{color:"#B0B0B0",fontSize:"0.8em",marginBottom:"0px"}},r.a.createElement("i",null,"No attachments")),r.a.createElement(u.i,{isOpen:m},r.a.createElement(u.n,null,t.assets.map((function(e,t){return r.a.createElement(u.o,{key:t},r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e))}))))),r.a.createElement("div",{style:{width:"30%",display:"flex",flexDirection:"column",justifyContent:"space-between"}},r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"flex-end"}},t.students.map((function(e,t){var n=o.find((function(t){return t._id===e}));return!!n&&r.a.createElement(u.c,{pill:!0,key:t,className:"student-pill",color:n.color,style:{backgroundColor:"".concat(n.color)}},n.name)}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%"}},r.a.createElement(u.k,{className:"cy-delete-activity click-action",size:"md",icon:"trash",onClick:function(){L({deleteId:t._id}).then((function(){c(n.filter((function(e){return e._id!==t._id})))})).catch((function(e){console.log("Error:",e)}))}})))))},R=n(22),z=function(e){var t=e.activities,n=e.isOpen,c=e.setShowNewActivityModal,o=e.students,i=e.setActivities,s=Object(a.useState)([]),m=Object(l.a)(s,2),d=m[0],p=m[1],f=Object(a.useState)([]),g=Object(l.a)(f,2),h=g[0],y=g[1],E=function(){p([]),y([]),c(!1)};return r.a.createElement(u.p,{fullHeight:!0,position:"left",isOpen:n},r.a.createElement(u.s,{toggle:E,style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},"New Activity"),r.a.createElement(u.q,null,r.a.createElement("form",{id:"form",onSubmit:function(e){e.preventDefault();var n=e.target,a={name:"",textContent:n.details.value,date:n.date.value||null,completed:!1,students:h.map((function(e){return e._id})),assets:d};I(a).then((function(e){i([].concat(Object(D.a)(t),[e.data.data])),E()})).catch((function(e){console.log("An error occurred during submission:",e)}))}},r.a.createElement("br",null),r.a.createElement(a.Fragment,null,r.a.createElement("h4",null,"Details"),r.a.createElement(u.m,{required:!0,name:"details",type:"textarea",label:"Enter your text here...","data-cy":"new-activity-details"})),r.a.createElement(a.Fragment,null,r.a.createElement("h4",{style:{marginTop:"30px"}},"Date"),r.a.createElement(u.m,{name:"date",type:"date","data-cy":"new-activity-date"})),r.a.createElement(a.Fragment,null,r.a.createElement("h4",{style:{marginTop:"30px"}},"Students"),r.a.createElement(R.Multiselect,{onSelect:function(e){return y(e)},onRemove:function(e){return y(e)},options:o,displayValue:"name",style:{searchBox:{border:"none",borderBottom:"1px solid #D0D0D0",borderRadius:"0px"}}})),r.a.createElement(a.Fragment,null,r.a.createElement("h4",{style:{marginTop:"30px"}},"Assets"),r.a.createElement(u.n,null,d.map((function(e,t){return r.a.createElement(u.o,{value:t,key:t,style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},e,r.a.createElement(u.k,{icon:"backspace",className:"click-action",onClick:function(e){p(d.filter((function(t,n){return n!==e.target.parentNode.value})))}}))}))),r.a.createElement(u.m,{icon:"save",iconSize:"sm",id:"new-asset",type:"url",label:"Add new asset link",onIconClick:function(){var e=document.getElementById("new-asset");e.value&&(p([].concat(Object(D.a)(d),[e.value])),e.value="")}})))),r.a.createElement(u.r,null,r.a.createElement(u.e,{form:"form",onClick:E,color:"secondary"},"Cancel"),r.a.createElement(u.e,{form:"form",type:"submit",color:"primary","data-cy":"new-activity-done"},"Done")))},F=function(e){var t=e.activities,n=e.setActivities,c=e.students,o=Object(a.useState)(!1),i=Object(l.a)(o,2),s=i[0],m=i[1],d=Object(a.useState)(null),p=Object(l.a)(d,2),f=p[0],g=p[1],h=Object(a.useState)(null),y=Object(l.a)(h,2),E=y[0],v=y[1],b=Object(a.useState)([]),w=Object(l.a)(b,2),x=w[0],O=w[1],j=Object(a.useState)(!1),k=Object(l.a)(j,2),S=k[0],C=k[1],I=Object(a.useState)("today"),L=Object(l.a)(I,2),F=L[0],U=L[1];return Object(a.useEffect)((function(){A().then((function(e){return n(e.data)})).catch((function(e){return console.log(e)}))}),[n]),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",marginBottom:"60px"}},function(){var e=[{name:"All students"}].concat(Object(D.a)(c));return r.a.createElement("div",{style:{padding:"30px 30% 0px 30%"}},r.a.createElement(R.Multiselect,{placeholder:"Select student",singleSelect:!0,onSelect:function(e){return O(e)},onRemove:function(e){return O(e)},options:e,displayValue:"name",style:{chips:{fontSize:"1rem",margin:"0px"},searchBox:{margin:"20px auto 40px auto",border:"none",borderBottom:"1px solid #D0D0D0",borderRadius:"0px"}}}))}(),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",marginTop:"10px"}},r.a.createElement(u.e,{color:"primary",onClick:function(){U("today"),C(!1)}},"Today"),r.a.createElement(u.e,{color:"primary",onClick:function(){U("week"),C(!1)}},"Next 7 Days"),r.a.createElement(u.e,{color:"primary",onClick:function(){U("unscheduled"),C(!1)}},"Unscheduled"),r.a.createElement(u.e,{color:"primary",onClick:function(){U("custom"),g(null),v(null),C(!0)},"data-cy":"activity-date-button"},r.a.createElement(u.k,{icon:"search"}))),S&&r.a.createElement("div",null,r.a.createElement("form",{style:{display:"flex",justifyContent:"space-around",padding:"30px 25% 0px"}},r.a.createElement(u.m,{type:"date",name:"from",label:"From",onChange:function(e){return g(new Date(e.target.value))},"data-cy":"activity-date-from"}),r.a.createElement(u.m,{type:"date",name:"to",label:"To",onChange:function(e){return v(new Date(e.target.value))},"data-cy":"activity-date-to"}))),function(){var e=[];switch(F){case"today":e=function(){var e=new Date;return t.filter((function(t){var n=new Date(t.date);return n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()}))}();break;case"week":e=function(){var e=new Date;return t.filter((function(t){var n=new Date(t.date);return n.getDate()>=e.getDate()&&n.getDate()<e.getDate()+7&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()}))}();break;case"unscheduled":e=t.filter((function(e){return!e.date}));break;case"custom":e=f&&E?t.filter((function(e){var t=new Date(e.date);return t>=f&&t<=E})):[];break;default:e=[]}return x.length>0&&"All students"!==x[0].name&&(e=e.filter((function(e){return e.students.indexOf(x[0]._id)>-1}))),r.a.createElement(u.j,{style:{marginTop:"30px",marginBottom:"30px"}},0===e.length&&r.a.createElement(u.b,{color:"info"},"No activities match the search criteria"),e.map((function(e,a){return r.a.createElement(B,{key:a,students:c,data:e,activities:t,setActivities:n})})))}(),r.a.createElement(u.e,{color:"primary",onClick:function(){return m(!0)},style:{position:"fixed",bottom:"20px",left:"calc(50% - 1.5em)",borderRadius:"50%",padding:"0px",width:"3em",height:"3em"},"data-cy":"create-activity"},r.a.createElement(u.k,{icon:"plus"})),r.a.createElement(z,{setActivities:n,activities:t,isOpen:s,setShowNewActivityModal:m,students:c}))},U=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("students/getStudents");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.post("students/newStudent",t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.delete("students/deleteStudent",{data:t});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){var t=e.data,n=e.students,a=e.setStudents;return r.a.createElement(u.f,{style:{marginBottom:"6px"}},r.a.createElement(u.g,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(u.k,{size:"lg",icon:"user"}),r.a.createElement("p",{style:{marginLeft:"10px",minWidth:"20%",marginBottom:"0px"}},t.name),r.a.createElement(u.k,{size:"sm",style:{marginLeft:"15px"},icon:"pen"})),r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"30px"}},r.a.createElement("input",{readOnly:!0,type:"color",value:t.color,onChange:console.log("todo: change color"),style:{maxWidth:"30px",height:"30px",padding:"0px",marginBottom:"0px",border:"none"}}),r.a.createElement("p",{style:{marginLeft:"10px",marginBottom:"0px"}},"Color"),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%"}},r.a.createElement("a",{href:"#!",style:{marginBottom:"0px",marginRight:"10px"}},"View activities"),r.a.createElement(u.k,{size:"lg",gradient:"red",className:"click-action",onClick:function(e){e.preventDefault(),T({deleteId:t._id}).then((function(e){a(n.filter((function(e){return e._id!==t._id})))})).catch((function(e){console.log("An error occurred trying to delete ",t.name,": ",e)}))},icon:"trash"})))))},q=function(e){var t=e.students,n=Object(s.f)();return r.a.createElement(u.f,null,r.a.createElement(u.g,null,r.a.createElement("form",{id:"form",onSubmit:function(e){e.preventDefault();var a=e.target,r={name:a.name.value,color:a.color.value};P(r).then((function(e){t.push(r),n.push("/students"),document.getElementById("form").reset()})).catch((function(e){console.log("An error occured during student submission:",e)}))}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(u.k,{size:"lg",icon:"user",style:{marginRight:"10px"}}),r.a.createElement("input",{name:"name",placeholder:"Enter name",style:{minWidth:"20%",marginBottom:"0px"},"data-cy":"new-student-name"})),r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"30px"}},r.a.createElement("input",{name:"color",type:"color",style:{maxWidth:"30px",height:"30px",padding:"0px",marginBottom:"0px",border:"none"},"data-cy":"new-student-color"}),r.a.createElement("p",{style:{marginLeft:"10px",marginBottom:"0px"}},"Color")),r.a.createElement(u.e,{type:"submit",color:"primary",style:{position:"absolute",right:"20px",bottom:"20px",borderRadius:"50%",padding:"0px",width:"3em",height:"3em",margin:"0px"},"data-cy":"new-student-button"},r.a.createElement(u.k,{icon:"plus"})))))},_=function(e){var t=e.students,n=e.setStudents;return r.a.createElement(u.j,{style:{marginTop:"30px",marginBottom:"30px"}},r.a.createElement(u.j,null,0===t.length&&r.a.createElement(u.b,{color:"info"},"Add a student"),t.map((function(e,a){return r.a.createElement(N,{key:a,data:e,students:t,setStudents:n})}))),r.a.createElement(q,{students:t}))},M=function(){return r.a.createElement("iframe",{title:"external-homepage",style:{border:"none",width:"100%",height:"100vh",marginTop:"-100px"},src:"https://learnfreely.app/"})},W=n(50);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var V=function(e,t){switch(t.type){case"setLoggedInUser":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(W.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{loggedInUser:t.data});default:return e}};o.a.render(r.a.createElement((function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),u=Object(l.a)(o,2),d=u[0],p=u[1],f=Object(a.useReducer)(V,{loggedInUser:null}),g=Object(l.a)(f,2),h=g[0],y=g[1];return Object(a.useEffect)((function(){return function(){return w.apply(this,arguments)}().then((function(){y({type:"setLoggedInUser",data:x()}),A().then((function(e){return c(e.data)})).catch((function(e){return console.log(e)})),U().then((function(e){return p(e.data)})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log("got an error trying to check authenticated user:",e),O(null),y({type:"setLoggedInUser",data:null})})),function(){}}),[]),r.a.createElement("div",null,r.a.createElement(m.Provider,{value:{store:h,dispatch:y}},r.a.createElement(i.a,null,r.a.createElement(s.b,{path:"*",render:function(){return r.a.createElement(C,{setActivities:c,setStudents:p})}}),r.a.createElement(s.b,{exact:!0,path:"/",render:function(){return x()?r.a.createElement(s.a,{to:"/activities"}):r.a.createElement(s.a,{to:"/landing"})}}),r.a.createElement(s.b,{exact:!0,path:"/activities",render:function(){return r.a.createElement(F,{activities:n,students:d,setActivities:c})}}),r.a.createElement(s.b,{exact:!0,path:"/students",render:function(){return r.a.createElement(_,{students:d,setStudents:p})}}),r.a.createElement(s.b,{exact:!0,path:"/landing",render:function(){return r.a.createElement(M,null)}}),!x()&&r.a.createElement(s.b,{path:"*",render:function(){return r.a.createElement(s.a,{to:"/landing"})}}))))}),null),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.75f03a46.chunk.js.map